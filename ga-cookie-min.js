function getQueryVar(a){for(var e=window.location.search.substring(1),o=e.split("&"),i=0;i<o.length;i++){var n=o[i].split("=");if(n[0]==a)return n[1]}return!1}var gaCookie=gaCookie||{};gaCookie.prefix=gaCookie.prefix||"WEB-",gaCookie.domainName=this.domainName||document.location.hostname,gaCookie.getDomainHash=function(a){return fromGaJs_h=function(a){return void 0===a||"-"===a||""===a},fromGaJs_s=function(a){var e,o,i=1,n=0;if(!fromGaJs_h(a))for(i=0,e=a.length-1;e>=0;e--)o=a.charCodeAt(e),i=(i<<6&268435455)+o+(o<<14),n=266338304&i,i=0!==n?i^n>>21:i;return i},fromGaJs_s(a)},gaCookie.readGACookies=function(a,e,o,i){gaCookie.params={},gaCookie.cookiesStr=e;try{"undefined"==typeof gaCookie.landingPage&&gaCookie.checkLP()}catch(n){}try{"undefined"==typeof gaCookie.adGroup&&gaCookie.checkAdGroup()}catch(n){}if(null===a&&(a=gaCookie.getDomainHash(gaCookie.getCookie("DomainName",document.location.hostname))),i&&(gaCookie.prefix=i),o&&(gaCookie.strDefaultDomainName=o),null==gaCookie.cookiesStr&&(gaCookie.cookiesStr=document.cookie),0!==gaCookie.cookiesStr.length){var t=new RegExp("(__utm[a-z]{1,2}=[0-9]+[^;]*)","g"),r=gaCookie.cookiesStr.match(t,"$1");if(!r)return void(gaCookie.cookiesStr="");gaCookie.cookiesStr=r.join(";"),gaCookie.cookiesStr=gaCookie.cookiesStr.replace(/(\.|\|)utm/g,";utm");var m,u,p=gaCookie.cookiesStr.split(";");for(u=p.length,m=0;u>m;m++){var s=p[m].match(/([^=]*)=(.*)/),g=decodeURIComponent(s[1]);g=g.replace(/^\s+|\s+$/g,"");var c=s.length>=2?decodeURIComponent(s[2]):"";gaCookie.params[g]=c;var d=c.split(".");switch(g){case"__utma":gaCookie.params.domainhash=d[0],gaCookie.params.visitorId=d[1],gaCookie.params.ftime=d[2],gaCookie.params.ltime=d[3],gaCookie.params.stime=d[4],gaCookie.params.sessioncount=d[5];break;case"__utmb":gaCookie.params.gif_hits=d[1];break;case"__utmv":gaCookie.params.custom=d[1];break;case"__utmz":gaCookie.params.numSessions=d[2],gaCookie.params.numCampaigns=d[3];break;case"utmcsr":if(d.length>1)for(gaCookie.params.trafficsource="",subValIdx=0;subValIdx<d.length;subValIdx++)subValIdx>0&&(gaCookie.params.trafficsource+="."),gaCookie.params.trafficsource+=d[subValIdx];else gaCookie.params.trafficsource=d[0];break;case"utmccn":gaCookie.params.campaignname=d[0];break;case"utmcmd":gaCookie.params.campaignmedium=d[0];break;case"utmctr":gaCookie.params.campaignterm=d[0];break;case"utmcct":gaCookie.params.campaigncontent=d[0];break;case"utmcid":gaCookie.params.campaignid=d[0]}}}},gaCookie.getVisitData=function(){switch(gaCookie.readGACookies(gaCookie.domainName?gaCookie.domainName:null),jQuery('input[name="galandingpage"]').val(gaCookie.landingPage),jQuery('input[name="gaadgroup"]').val(gaCookie.adGroup),gaCookie.params.campaignmedium){case"organic":jQuery('input[name="gasource"]').val(gaCookie.params.trafficsource),jQuery('input[name="gamedium"],input[name="leadsource"]').val(gaCookie.prefix+"organic"),jQuery('input[name="gacampaign"]').val("(organic)"),jQuery('input[name="gakeyword"]').val(gaCookie.params.campaignterm);break;case"(none)":jQuery('input[name="gasource"]').val("(direct)"),jQuery('input[name="gamedium"],input[name="leadsource"]').val(gaCookie.prefix+"(none)"),jQuery('input[name="gacampaign"]').val("(direct)");break;case"referral":jQuery('input[name="gasource"]').val(gaCookie.params.trafficsource),jQuery('input[name="gamedium"],input[name="leadsource"]').val(gaCookie.prefix+"referral"),jQuery('input[name="gacampaign"]').val("(referral)"),jQuery('input[name="gacontent"]').val(gaCookie.params.campaigncontent);break;case"(not set)":gaCookie.params.utmgclid?(jQuery('input[name="gamedium"],input[name="leadsource"]').val(gaCookie.prefix+"cpc"),jQuery('input[name="gasource"]').val(gaCookie.params.trafficsource),jQuery('input[name="gacampaign"]').val(gaCookie.params.campaignname),jQuery('input[name="gakeyword"]').val(gaCookie.params.campaignterm),jQuery('input[name="gacontent"]').val(gaCookie.params.campaigncontent),jQuery('input[name="gaadwordsid"]').val(gaCookie.params.utmgclid)):(jQuery('input[name="gasource"]').val(gaCookie.params.trafficsource),jQuery('input[name="gamedium"],input[name="leadsource"]').val(gaCookie.prefix+gaCookie.params.campaignmedium),jQuery('input[name="gacampaign"]').val(gaCookie.params.campaignname),jQuery('input[name="gakeyword"]').val(gaCookie.params.campaignterm),jQuery('input[name="gacontent"]').val(gaCookie.params.campaigncontent));break;case void 0:jQuery('input[name="gasource"]').val(""===document.referrer||document.referrer.match(/\/\/(.+)\//)[1]==document.location.hostname?"(not set)":document.referrer.match(/\/\/(.+)\//)[1]),jQuery('input[name="gamedium"],input[name="leadsource"]').val(gaCookie.prefix+"unknown"),jQuery('input[name="gacampaign"]').val("(not set)");break;default:gaCookie.params.utmgclid?(jQuery('input[name="gamedium"],input[name="leadsource"]').val(gaCookie.prefix+"cpc"),jQuery('input[name="gasource"]').val(gaCookie.params.trafficsource),jQuery('input[name="gacampaign"]').val(gaCookie.params.campaignname),jQuery('input[name="gakeyword"]').val(gaCookie.params.campaignterm),jQuery('input[name="gacontent"]').val(gaCookie.params.campaigncontent),jQuery('input[name="gaadwordsid"]').val(gaCookie.params.utmgclid)):(jQuery('input[name="gasource"]').val(gaCookie.params.trafficsource),jQuery('input[name="gamedium"],input[name="leadsource"]').val(gaCookie.prefix+gaCookie.params.campaignmedium),jQuery('input[name="gacampaign"]').val(gaCookie.params.campaignname),jQuery('input[name="gakeyword"]').val(gaCookie.params.campaignterm),jQuery('input[name="gacontent"]').val(gaCookie.params.campaigncontent))}},gaCookie.getFirstVisitTime=function(a){return"undefined"==typeof gaCookie.params.ftime&&gaCookie.readGACookies(gaCookie.domainName?gaCookie.domainName:null),a?void jQuery('input[name="'+a+'"]').val(gaCookie.params.ftime):gaCookie.params.ftime},gaCookie.getLastVisitTime=function(a){return"undefined"==typeof gaCookie.params.ltime&&gaCookie.readGACookies(gaCookie.domainName?gaCookie.domainName:null),a?void jQuery('input[name="'+a+'"]').val(gaCookie.params.ltime):gaCookie.params.ltime},gaCookie.getSessionStartTime=function(a){return"undefined"==typeof gaCookie.params.stime&&gaCookie.readGACookies(gaCookie.domainName?gaCookie.domainName:null),a?void jQuery('input[name="'+a+'"]').val(gaCookie.params.stime):gaCookie.params.stime},gaCookie.getSessionVisits=function(a){return"undefined"==typeof gaCookie.params.numSessions&&gaCookie.readGACookies(gaCookie.domainName?gaCookie.domainName:null),a?void jQuery('input[name="'+a+'"]').val(gaCookie.params.numSessions):gaCookie.params.numSessions},gaCookie.getNumberCampaigns=function(a){return"undefined"==typeof gaCookie.params.numCampaigns&&gaCookie.readGACookies(gaCookie.domainName?gaCookie.domainName:null),a?void jQuery('input[name="'+a+'"]').val(gaCookie.params.numCampaigns):gaCookie.params.numCampaigns},gaCookie.getGAVisitorID=function(a){return"undefined"==typeof gaCookie.params.visitorId&&gaCookie.readGACookies(gaCookie.domainName?gaCookie.domainName:null),a?void jQuery('input[name="'+a+'"]').val(gaCookie.params.visitorId):gaCookie.params.visitorId},gaCookie.getCustomVar=function(a,e){"undefined"==typeof gaCookie.params.visitorId&&gaCookie.readGACookies(gaCookie.domainName?gaCookie.domainName:null);var o;try{o=gaCookie.params.custom}catch(i){o=""}return e?void jQuery('input[name="'+e+'"]').val(o):o},gaCookie.get=function(a,e){var o=this.params[a];return null!==o?o:e},gaCookie.set=function(a,e,o,i,n){this.writeCookie(a,e,o,i,n)},gaCookie.contains=function(a){var e=this.params[a];return null!==e},gaCookie.formatDateTime=function(a){var e=this.params[a],o=new Date(1e3*e),i=o.toLocaleDateString();return i=i.replace(/[a-z]{3}.*[, ]+([a-z]{3})[^, ]*/i,"$1"),i+=" "+o.toLocaleTimeString()},gaCookie.getCookie=function(a,e){var o;try{o=document.cookie.match(a+"=(([^;])*)")[1]}catch(i){o=e}return o},gaCookie.deleteCookie=function(a,e,o){this.writeCookie(a,"",e,o,-1)},gaCookie.deleteAllCookies=function(a){var e,o=new Date;o.setTime(1),o=o.toGMTString();for(var i=document.cookie.split(";"),n=0;n<i.length;n++)e=i[n].split("="),deleteCookie(e[0],a,"")},gaCookie.writeCookie=function(a,e,o,i,n){var t=new Date;o=o||this.strDefaultDomainName,t.setTime(t.getTime()+60*n*60*1e3);var r=0===n?0:t.toGMTString(),m=a+"="+e+";expires="+r+";path="+i+";domain="+o;document.cookie=m},gaCookie.checkLP=function(){try{var a=document.cookie.search("gaCVarLP");if(a>-1)gaCookie.landingPage=gaCookie.getCookie("gaCVarLP","");else{var e=document.location.pathname;e=e.length>124?e.substr(e.length-124,124):e,gaCookie.set("gaCVarLP",e,this.domainName,"/",.5),gaCookie.landingPage=e}}catch(o){}},gaCookie.checkAdGroup=function(){try{var a=document.cookie.search("gaCVarAdGrp");if(a>-1)gaCookie.landingPage=gaCookie.getCookie("gaCVarAdGrp","");else{var e=getQueryVar("utm_adgroup");e&&(e=e.length>124?e.substr(e.length-124,124):e,gaCookie.set("gaCVarAdGrp",e,this.domainName,"/",.5),gaCookie.adGroup=e)}}catch(o){}},gaCookie.zipLookupCount=0,gaCookie.processZip=function(){$("input[name='zip']").on("blur",function(){gaCookie.doZipLookup()}),$("form").on("submit",function(a){""==$('input[name="country"]').val()&&(gaCookie.doZipLookup(),a.preventDefault())})},gaCookie.doZipLookup=function(){try{$("input[name='zip']").val().length>0&&$.getJSON("//api.geonames.org/postalCodeSearchJSON?postalcode="+$("input[name='zip']").val()+"&maxRows=10&username=demo",function(a){"undefined"==typeof a||"undefined"!=typeof a.status?(console.log("zip code lookup returned empty or invalid data..."),gaCookie.zipLookupCount<3&&(console.log("("+(gaCookie.zipLookupCount+1)+")reattempting zip code lookup..."),window.setTimeout(gaCookie.doZipLookup,250),gaCookie.zipLookupCount++)):($(".zipError").remove(),$("input[name='zip']").removeClass("invalid"),0==a.postalCodes.length?($("input[name='zip']").addClass("invalid"),$("input[name='zip']").after("<span class='zipError' style='font-size:.85em;display:inline-block;padding-top:5px;'>Are you sure that's a zip code?</span>")):1==a.postalCodes.length?($("input[name='country']").val(a.postalCodes[0].countryCode),$("input[name='city']").val(a.postalCodes[0].placeName),$("input[name='state']").val(a.postalCodes[0].adminCode1)):async.each(a.postalCodes,function(a,e){"US"==a.countryCode?e(a):e()},function(e){e?($("input[name='country']").val(e.countryCode),$("input[name='city']").val(e.placeName),$("input[name='state']").val(e.adminCode1)):($("#zipModal").length?$("#zipModal .modal-body .list-group").html(""):$("body").append($("<div>").attr({"class":"modal fade",id:"zipModal",tabindex:"-1",role:"dialog","aria-labelledby":"zipModal","aria-hidden":"true"}).append($("<div>").attr({"class":"modal-dialog"}).append($("<div>").attr({"class":"modal-content"}).append($("<div>").attr({"class":"modal-header"}).append($("<button>").attr({type:"button","class":"close","data-dismiss":"modal","aria-label":"close"}).append($("<span>").attr({"aria-hidden":"true"})).html("&times;")).append($("<h4>").attr({"class":"modal-title"}).text("Please pick a Location"))).append($("<div>").attr({"class":"modal-body"}).append($("<div>").attr({"class":"list-group"}))).append($("<div>").attr({"class":"modal-footer"}).append($("<button>").attr({type:"button","class":"btn btn-default","data-dismiss":"modal"}).text("Close")))))),$.each(a.postalCodes,function(a,e){$("#zipModal .modal-body .list-group").append($("<a>").attr({href:"javascript:;","class":"list-group-item","data-zip":JSON.stringify(e)}).text(e.placeName+", "+e.adminCode1+" "+e.countryCode).on("click",function(){var a=$.parseJSON($(this).attr("data-zip"));$("input[name='country']").val(a.countryCode),$("input[name='city']").val(a.placeName),$("input[name='state']").val(a.adminCode1),$("#zipModal").modal("hide")})),$("#zipModal").modal("show")}))}))}).fail(function(){console.log("jqxhr call failed..."),gaCookie.zipLookupCount<3&&(console.log("("+(gaCookie.zipLookupCount+1)+")retrying jqxhr call..."),window.setTimeout(gaCookie.doZipLookup,250),gaCookie.zipLookupCount++)})}catch(a){}},gaCookie.updateUTMZ=function(a,e,o,i,n){var t=gaCookie.getCookie("__utmz"),r=t.split("|");a&&(t=t.replace(/utmcsr=(.*?)\|/,"utmcsr="+a+"|")),e&&(t=t.replace(/(utmcmd=[\w\(\)\-_\+]*)\|?/,"utmcmd="+e+(r.length<4?"":"|"))),o&&(t=t.replace(/utmccn=(.*?)\|/,"utmccn="+o+"|")),i&&(t=t.replace(/utmctr=(.*?)/,"utmctr="+i)),n&&(t=t.replace(/utmcct=(.*?)/,"utmcct="+n)),gaCookie.set("__utmz",t,this.domainName,"/",4382)};